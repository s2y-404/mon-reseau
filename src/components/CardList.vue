
<template>
    <div v-if="!this.dataList.length || !arrayFilter.length" class="d-flex justify-content-center align-items-center">
      <img src="@/assets/users_blank.png" alt="RÃ©pertoire vide" style="width: 45%;">
    </div>
    <div v-else class="card-list">
      <div v-for="data in this.dataList" :key="data.id">
        <CardComponent  
          v-if="arrayFilter.includes(data.type)"
          :data="data" 
          @remove="() => removeCard(data.id)" 
        />
      </div>
    </div>
</template>

<script>
import CardComponent from '@/components/Card.vue';

export default {
  components: {
    CardComponent
  },
  props: {
    dataList: Array,
    arrayFilter: Array
  },
  emits: ['remove', 'datas-updated', 'datasUpdated'],
  data() {
    return {
      localDataList: [...this.dataList]
    };
  },
  methods: {
    removeCard(id) {
      console.log("CardList | Removing card with id:", id);
      this.localDataList = this.localDataList.filter(item => item.id !== id);
      this.$emit('remove', id);
    }
  }
};
</script>

<style scoped>
  .card-list {
    /* display: grid;
    grid-template-columns: repeat(auto-fill,minmax(18rem, 1fr));
    justify-items: center; 
    gap: 10px 1.2%; */
    display: flex;
    justify-content: flex-start;
    align-items: center;
    flex-wrap: wrap;
    flex-direction: row;
    padding: 1% 0;
  }

</style>
